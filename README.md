# pay-limit
Примерная реализаци задачи:

Задача добавить в систему учет лимитов на платежи за услуги для контроля мошенничества.

 
Есть платеж Payment на сумму amount за некоторую услугу Service в пользу клиента с лицевым счетом account. При попадании в систему платеж передается в обработку для зачисления денег клиенту.
Задача: нужно добавить в систему логику учета лимитов платежей:
1)      Не более 5000р днем с 9 утра до 23:00 за одну услугу

2)      Не более 1000р ночью с 23 до 9 утра за одну услугу

3)      Не более 2000р в сутки по одинаковым реквизитам (account) за одну услугу

4)      Не более 3000р в течении одного часа за одну услугу

Данные лимиты должны быть настраиваемые и для разных услуг могут быть разными.
Для решения задачи требуется реализовать класс PayLimitPolicy, который будет осуществлять учет новых платежей в «базе» текущих лимитов. В случаи, если какой-то из лимитов превышен, PayLimitPolicy должен переводить «подозрительный» платеж в статус SubmitRequired (требует подтверждения).
В качестве базы текущих значений лимитов можно использовать простой локальный объект, в котором содержатся соответствия услуг с их текущими показаниями лимитов.
Таким образом, на входе мы имеем объект Payment со свойствами amount, service, account, status.
Нужно реализовать: локальную базу лимитов в виде удобного объекта и PayLimitPolicy, выполняющий учет и контроль новых платежей.
Можно считать, что платежи приходят в систему в одном потоке и не думать о синхронизации данных.
Требуется  реализовать задачу с тестами. Можно использовать мок-объекты (Mockito).
